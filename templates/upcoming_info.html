<html>
  <head>
    <!-- CSS only -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"></script>
      <script>

        function findElementByText(text) {
            var jSpot = $("td:contains(" + text + ")")
                        .filter(function() { return $(this).children().length === 0;})

            return jSpot;
        }

        $(document).ready(function(){
          $("table").addClass("table");

          findElementByText('replaceMe').html('<button type="button" class="btn btn-danger">Remove</button><button type="button" class="btn btn-success">OK</button>');

          $('.btn-success').click(function() {
            $(this).parent().parent().css('background-color', '#90ee90');
          });

          $('.btn-danger').click(function() {
            alert('muie')
            $.post("http://localhost:80/booking/remove",
            {
              workout_id: $('#workout_id').text(),
              user_id: $(this).parent().parent().children().last().prev().text()
            },
            function(data,status){
              alert("Data: " + data + "\nStatus: " + status);
            });
            
            $(this).parent().parent().remove();
          });
          
        });

      </script>
  </head>
  <body>
    <h1>Upcoming class: {{class_info}}</h1>
    <h3 id='workout_id'>{{workout_id}}</h3>
    <br/>
    <br/>
    <br/>
    {{dyn_table}}
  </body>
</html>